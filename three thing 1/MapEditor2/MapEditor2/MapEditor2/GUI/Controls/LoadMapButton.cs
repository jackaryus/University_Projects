using System;
using System.Collections.Generic;
using System.Linq;
using System.Windows.Forms;

namespace MapEditor2.GUI.Controls
{
    //======================================================================================================================
    //
    //======================================================================================================================
    public class LoadMapButton : Button
    {
        //------------------------------------------------------------------------------------------------------------------
        //
        //------------------------------------------------------------------------------------------------------------------

        //------------------------------------------------------------------------------------------------------------------
        //
        //------------------------------------------------------------------------------------------------------------------
        public LoadMapButton(int x, int y, int width, int height, string label, Containers.Panel parent, Editor editor)
            : base(x, y, width, height, label, parent, editor)
        {
        }
        //------------------------------------------------------------------------------------------------------------------
        //
        //------------------------------------------------------------------------------------------------------------------
        public override void OnTrigger()
        {
            base.OnTrigger();
            OpenFileDialog loadForm = new OpenFileDialog();
            loadForm.Filter = "Map files (*.TM)|*.TM";

            if (loadForm.ShowDialog() == DialogResult.OK)
            {
                this.editor.SetupMap(loadForm.FileName);
            }
        }
    }
}
